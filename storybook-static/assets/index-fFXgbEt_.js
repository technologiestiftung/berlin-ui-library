import{r as u,R as S}from"./index-CFahbR6w.js";import{j as x}from"./jsx-runtime-D_zvdyIk.js";function j(e,c){const t=u.createContext(c),i=s=>{const{children:r,...o}=s,l=u.useMemo(()=>o,Object.values(o));return x.jsx(t.Provider,{value:l,children:r})};i.displayName=e+"Provider";function n(s){const r=u.useContext(t);if(r)return r;if(c!==void 0)return c;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[i,n]}function _(e,c=[]){let t=[];function i(s,r){const o=u.createContext(r),l=t.length;t=[...t,r];const d=f=>{const{scope:v,children:p,...m}=f,C=v?.[e]?.[l]||o,h=u.useMemo(()=>m,Object.values(m));return x.jsx(C.Provider,{value:h,children:p})};d.displayName=s+"Provider";function a(f,v){const p=v?.[e]?.[l]||o,m=u.useContext(p);if(m)return m;if(r!==void 0)return r;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,a]}const n=()=>{const s=t.map(r=>u.createContext(r));return function(o){const l=o?.[e]||s;return u.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return n.scopeName=e,[i,E(n,...c)]}function E(...e){const c=e[0];if(e.length===1)return c;const t=()=>{const i=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){const r=i.reduce((o,{useScope:l,scopeName:d})=>{const f=l(s)[`__scope${d}`];return{...o,...f}},{});return u.useMemo(()=>({[`__scope${c.scopeName}`]:r}),[r])}};return t.scopeName=c.scopeName,t}function y(e,c,{checkForDefaultPrevented:t=!0}={}){return function(n){if(e?.(n),t===!1||!n.defaultPrevented)return c?.(n)}}var P=globalThis?.document?u.useLayoutEffect:()=>{},b=S[" useInsertionEffect ".trim().toString()]||P;function M({prop:e,defaultProp:c,onChange:t=()=>{},caller:i}){const[n,s,r]=w({defaultProp:c,onChange:t}),o=e!==void 0,l=o?e:n;{const a=u.useRef(e!==void 0);u.useEffect(()=>{const f=a.current;f!==o&&console.warn(`${i} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),a.current=o},[o,i])}const d=u.useCallback(a=>{if(o){const f=R(a)?a(e):a;f!==e&&r.current?.(f)}else s(a)},[o,e,s,r]);return[l,d]}function w({defaultProp:e,onChange:c}){const[t,i]=u.useState(e),n=u.useRef(t),s=u.useRef(c);return b(()=>{s.current=c},[c]),u.useEffect(()=>{n.current!==t&&(s.current?.(t),n.current=t)},[t,n]),[t,i,s]}function R(e){return typeof e=="function"}export{M as a,y as b,_ as c,j as d,P as u};
