import{R as p,r as y}from"./index-BCtMShv3.js";import{S as zt}from"./index-CoBdCDVR.js";import{c as Re,a as Jt}from"./utils-DaaxtNl5.js";import{L as Kt}from"./Label-BwZuZSqo.js";import{I as _e}from"./Input-BluuOMWe.js";import{B as ze}from"./Button-7PzyIOBP.js";import"./jsx-runtime-D_zvdyIk.js";import"./index-BqCLlfdy.js";import"./index-D-fs5e6L.js";var Ve=e=>e.type==="checkbox",ne=e=>e instanceof Date,q=e=>e==null;const _t=e=>typeof e=="object";var C=e=>!q(e)&&!Array.isArray(e)&&_t(e)&&!ne(e),Vt=e=>C(e)&&e.target?Ve(e.target)?e.target.checked:e.target.value:e,jt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Et=(e,r)=>e.has(jt(r)),Gt=e=>{const r=e.constructor&&e.constructor.prototype;return C(r)&&r.hasOwnProperty("isPrototypeOf")},Je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let r;const t=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Je&&(e instanceof Blob||n))&&(t||C(e)))if(r=t?[]:{},!t&&!Gt(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=M(e[i]));else return e;return r}var Me=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,f=(e,r,t)=>{if(!r||!C(e))return t;const n=Me(r.split(/[,[\].]+?/)).reduce((i,o)=>q(i)?i:i[o],e);return w(n)||n===e?w(e[r])?t:e[r]:n},H=e=>typeof e=="boolean",Ke=e=>/^\w*$/.test(e),pt=e=>Me(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,r,t)=>{let n=-1;const i=Ke(r)?[r]:pt(r),o=i.length,c=o-1;for(;++n<o;){const h=i[n];let _=t;if(n!==c){const I=e[h];_=C(I)||Array.isArray(I)?I:isNaN(+i[n+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=_,e=e[h]}};const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},J={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xt=p.createContext(null),Oe=()=>p.useContext(xt),Qt=e=>{const{children:r,...t}=e;return p.createElement(xt.Provider,{value:t},r)};var St=(e,r,t,n=!0)=>{const i={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const c=o;return r._proxyFormState[c]!==J.all&&(r._proxyFormState[c]=!n||J.all),t&&(t[c]=!0),e[c]}});return i},Ye=e=>q(e)||!_t(e);function ee(e,r){if(Ye(e)||Ye(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(const i of t){const o=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const c=r[i];if(ne(o)&&ne(c)||C(o)&&C(c)||Array.isArray(o)&&Array.isArray(c)?!ee(o,c):o!==c)return!1}}return!0}const At=(e,r)=>{const t=y.useRef(r);ee(r,t.current)||(t.current=r),y.useEffect(e,t.current)};function Xt(e){const r=Oe(),{control:t=r.control,disabled:n,name:i,exact:o}=e||{},[c,h]=p.useState(t._formState),_=p.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return At(()=>t._subscribe({name:i,formState:_.current,exact:o,callback:I=>{!n&&h({...t._formState,...I})}}),[i,n,o]),p.useEffect(()=>{_.current.isValid&&t._setValid(!0)},[t]),p.useMemo(()=>St(c,t,_.current,!1),[c,t])}var Q=e=>typeof e=="string",Dt=(e,r,t,n,i)=>Q(e)?(n&&r.watch.add(e),f(t,e,i)):Array.isArray(e)?e.map(o=>(n&&r.watch.add(o),f(t,o))):(n&&(r.watchAll=!0),t);function Zt(e){const r=Oe(),{control:t=r.control,name:n,defaultValue:i,disabled:o,exact:c}=e||{},[h,_]=p.useState(t._getWatch(n,i));return At(()=>t._subscribe({name:n,formState:{values:!0},exact:c,callback:I=>!o&&_(Dt(n,t._names,I.values||t._formValues,!1,i))}),[n,i,o,c]),p.useEffect(()=>t._removeUnmounted()),h}function er(e){const r=Oe(),{name:t,disabled:n,control:i=r.control,shouldUnregister:o}=e,c=Et(i._names.array,t),h=Zt({control:i,name:t,defaultValue:f(i._formValues,t,f(i._defaultValues,t,e.defaultValue)),exact:!0}),_=Xt({control:i,name:t,exact:!0}),I=p.useRef(e),x=p.useRef(i.register(t,{...e.rules,value:h,...H(e.disabled)?{disabled:e.disabled}:{}})),A=p.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(_.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(_.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(_.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!f(_.validatingFields,t)},error:{enumerable:!0,get:()=>f(_.errors,t)}}),[_,t]),b=p.useCallback(T=>x.current.onChange({target:{value:Vt(T),name:t},type:ke.CHANGE}),[t]),re=p.useCallback(()=>x.current.onBlur({target:{value:f(i._formValues,t),name:t},type:ke.BLUR}),[t,i._formValues]),Y=p.useCallback(T=>{const B=f(i._fields,t);B&&T&&(B._f.ref={focus:()=>T.focus(),select:()=>T.select(),setCustomValidity:g=>T.setCustomValidity(g),reportValidity:()=>T.reportValidity()})},[i._fields,t]),R=p.useMemo(()=>({name:t,value:h,...H(n)||_.disabled?{disabled:_.disabled||n}:{},onChange:b,onBlur:re,ref:Y}),[t,n,_.disabled,b,re,Y,h]);return p.useEffect(()=>{const T=i._options.shouldUnregister||o;i.register(t,{...I.current.rules,...H(I.current.disabled)?{disabled:I.current.disabled}:{}});const B=(g,z)=>{const W=f(i._fields,g);W&&W._f&&(W._f.mount=z)};if(B(t,!0),T){const g=M(f(i._options.defaultValues,t));S(i._defaultValues,t,g),w(f(i._formValues,t))&&S(i._formValues,t,g)}return!c&&i.register(t),()=>{(c?T&&!i._state.action:T)?i.unregister(t):B(t,!1)}},[t,i,c,o]),p.useEffect(()=>{i._setDisabledField({disabled:n,name:t})},[n,t,i]),p.useMemo(()=>({field:R,formState:_,fieldState:A}),[R,_,A])}const tr=e=>e.render(er(e));var rr=(e,r,t,n,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:i||!0}}:{},be=e=>Array.isArray(e)?e:[e],ut=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},U=e=>C(e)&&!Object.keys(e).length,je=e=>e.type==="file",K=e=>typeof e=="function",Ne=e=>{if(!Je)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},wt=e=>e.type==="select-multiple",Ge=e=>e.type==="radio",sr=e=>Ge(e)||Ve(e),$e=e=>Ne(e)&&e.isConnected;function nr(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=w(e)?n++:e[r[n++]];return e}function ar(e){for(const r in e)if(e.hasOwnProperty(r)&&!w(e[r]))return!1;return!0}function N(e,r){const t=Array.isArray(r)?r:Ke(r)?[r]:pt(r),n=t.length===1?e:nr(e,t),i=t.length-1,o=t[i];return n&&delete n[o],i!==0&&(C(n)&&U(n)||Array.isArray(n)&&ar(n))&&N(e,t.slice(0,-1)),e}var Ct=e=>{for(const r in e)if(K(e[r]))return!0;return!1};function Ie(e,r={}){const t=Array.isArray(e);if(C(e)||t)for(const n in e)Array.isArray(e[n])||C(e[n])&&!Ct(e[n])?(r[n]=Array.isArray(e[n])?[]:{},Ie(e[n],r[n])):q(e[n])||(r[n]=!0);return r}function kt(e,r,t){const n=Array.isArray(e);if(C(e)||n)for(const i in e)Array.isArray(e[i])||C(e[i])&&!Ct(e[i])?w(r)||Ye(t[i])?t[i]=Array.isArray(e[i])?Ie(e[i],[]):{...Ie(e[i])}:kt(e[i],q(r)?{}:r[i],t[i]):t[i]=!ee(e[i],r[i]);return t}var Fe=(e,r)=>kt(e,r,Ie(r));const ct={value:!1,isValid:!1},dt={value:!0,isValid:!0};var Nt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?dt:{value:e[0].value,isValid:!0}:dt:ct}return ct},It=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>w(e)?e:r?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):n?n(e):e;const ft={isValid:!1,value:null};var Lt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ft):ft;function mt(e){const r=e.ref;return je(r)?r.files:Ge(r)?Lt(e.refs).value:wt(r)?[...r.selectedOptions].map(({value:t})=>t):Ve(r)?Nt(e.refs).value:It(w(r.value)?e.ref.value:r.value,e)}var ir=(e,r,t,n)=>{const i={};for(const o of e){const c=f(r,o);c&&S(i,o,c._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:n}},Le=e=>e instanceof RegExp,ge=e=>w(e)?e:Le(e)?e.source:C(e)?Le(e.value)?e.value.source:e.value:e,yt=e=>({isOnSubmit:!e||e===J.onSubmit,isOnBlur:e===J.onBlur,isOnChange:e===J.onChange,isOnAll:e===J.all,isOnTouch:e===J.onTouched});const ht="AsyncFunction";var or=e=>!!e&&!!e.validate&&!!(K(e.validate)&&e.validate.constructor.name===ht||C(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ht)),lr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ft=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ve=(e,r,t,n)=>{for(const i of t||Object.keys(e)){const o=f(e,i);if(o){const{_f:c,...h}=o;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],i)&&!n)return!0;if(c.ref&&r(c.ref,c.name)&&!n)return!0;if(ve(h,r))break}else if(C(h)&&ve(h,r))break}}};function gt(e,r,t){const n=f(e,t);if(n||Ke(t))return{error:n,name:t};const i=t.split(".");for(;i.length;){const o=i.join("."),c=f(r,o),h=f(e,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(h&&h.type)return{name:o,error:h};i.pop()}return{name:t}}var ur=(e,r,t,n)=>{t(e);const{name:i,...o}=e;return U(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(c=>r[c]===(!n||J.all))},cr=(e,r,t)=>!e||!r||e===r||be(e).some(n=>n&&(t?n===r:n.startsWith(r)||r.startsWith(n))),dr=(e,r,t,n,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(r||e):(t?n.isOnBlur:i.isOnBlur)?!e:(t?n.isOnChange:i.isOnChange)?e:!0,fr=(e,r)=>!Me(f(e,r)).length&&N(e,r),mr=(e,r,t)=>{const n=be(f(e,t));return S(n,"root",r[t]),S(e,t,n),e},Ce=e=>Q(e);function bt(e,r,t="validate"){if(Ce(e)||Array.isArray(e)&&e.every(Ce)||H(e)&&!e)return{type:t,message:Ce(e)?e:"",ref:r}}var ue=e=>C(e)&&!Le(e)?e:{value:e,message:""},vt=async(e,r,t,n,i,o)=>{const{ref:c,refs:h,required:_,maxLength:I,minLength:x,min:A,max:b,pattern:re,validate:Y,name:R,valueAsNumber:T,mount:B}=e._f,g=f(t,R);if(!B||r.has(R))return{};const z=h?h[0]:c,W=E=>{i&&z.reportValidity&&(z.setCustomValidity(H(E)?"":E||""),z.reportValidity())},L={},me=Ge(c),ye=Ve(c),Be=me||ye,j=(T||je(c))&&w(c.value)&&w(g)||Ne(c)&&c.value===""||g===""||Array.isArray(g)&&!g.length,se=rr.bind(null,R,n,L),X=(E,v,D,P=Z.maxLength,$=Z.minLength)=>{const G=E?v:D;L[R]={type:E?P:$,message:G,ref:c,...se(E?P:$,G)}};if(o?!Array.isArray(g)||!g.length:_&&(!Be&&(j||q(g))||H(g)&&!g||ye&&!Nt(h).isValid||me&&!Lt(h).isValid)){const{value:E,message:v}=Ce(_)?{value:!!_,message:_}:ue(_);if(E&&(L[R]={type:Z.required,message:v,ref:z,...se(Z.required,v)},!n))return W(v),L}if(!j&&(!q(A)||!q(b))){let E,v;const D=ue(b),P=ue(A);if(!q(g)&&!isNaN(g)){const $=c.valueAsNumber||g&&+g;q(D.value)||(E=$>D.value),q(P.value)||(v=$<P.value)}else{const $=c.valueAsDate||new Date(g),G=pe=>new Date(new Date().toDateString()+" "+pe),te=c.type=="time",he=c.type=="week";Q(D.value)&&g&&(E=te?G(g)>G(D.value):he?g>D.value:$>new Date(D.value)),Q(P.value)&&g&&(v=te?G(g)<G(P.value):he?g<P.value:$<new Date(P.value))}if((E||v)&&(X(!!E,D.message,P.message,Z.max,Z.min),!n))return W(L[R].message),L}if((I||x)&&!j&&(Q(g)||o&&Array.isArray(g))){const E=ue(I),v=ue(x),D=!q(E.value)&&g.length>+E.value,P=!q(v.value)&&g.length<+v.value;if((D||P)&&(X(D,E.message,v.message),!n))return W(L[R].message),L}if(re&&!j&&Q(g)){const{value:E,message:v}=ue(re);if(Le(E)&&!g.match(E)&&(L[R]={type:Z.pattern,message:v,ref:c,...se(Z.pattern,v)},!n))return W(v),L}if(Y){if(K(Y)){const E=await Y(g,t),v=bt(E,z);if(v&&(L[R]={...v,...se(Z.validate,v.message)},!n))return W(v.message),L}else if(C(Y)){let E={};for(const v in Y){if(!U(E)&&!n)break;const D=bt(await Y[v](g,t),z,v);D&&(E={...D,...se(v,D.message)},W(D.message),n&&(L[R]=E))}if(!U(E)&&(L[R]={ref:z,...E},!n))return L}}return W(!0),L};const yr={mode:J.onSubmit,reValidateMode:J.onChange,shouldFocusError:!0};function hr(e={}){let r={...yr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:K(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const n={};let i=C(r.defaultValues)||C(r.values)?M(r.values||r.defaultValues)||{}:{},o=r.shouldUnregister?{}:M(i),c={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},_,I=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let A={...x};const b={array:ut(),state:ut()},re=yt(r.mode),Y=yt(r.reValidateMode),R=r.criteriaMode===J.all,T=s=>a=>{clearTimeout(I),I=setTimeout(s,a)},B=async s=>{if(!r.disabled&&(x.isValid||A.isValid||s)){const a=r.resolver?U((await j()).errors):await X(n,!0);a!==t.isValid&&b.state.next({isValid:a})}},g=(s,a)=>{!r.disabled&&(x.isValidating||x.validatingFields||A.isValidating||A.validatingFields)&&((s||Array.from(h.mount)).forEach(l=>{l&&(a?S(t.validatingFields,l,a):N(t.validatingFields,l))}),b.state.next({validatingFields:t.validatingFields,isValidating:!U(t.validatingFields)}))},z=(s,a=[],l,m,d=!0,u=!0)=>{if(m&&l&&!r.disabled){if(c.action=!0,u&&Array.isArray(f(n,s))){const F=l(f(n,s),m.argA,m.argB);d&&S(n,s,F)}if(u&&Array.isArray(f(t.errors,s))){const F=l(f(t.errors,s),m.argA,m.argB);d&&S(t.errors,s,F),fr(t.errors,s)}if((x.touchedFields||A.touchedFields)&&u&&Array.isArray(f(t.touchedFields,s))){const F=l(f(t.touchedFields,s),m.argA,m.argB);d&&S(t.touchedFields,s,F)}(x.dirtyFields||A.dirtyFields)&&(t.dirtyFields=Fe(i,o)),b.state.next({name:s,isDirty:v(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else S(o,s,a)},W=(s,a)=>{S(t.errors,s,a),b.state.next({errors:t.errors})},L=s=>{t.errors=s,b.state.next({errors:t.errors,isValid:!1})},me=(s,a,l,m)=>{const d=f(n,s);if(d){const u=f(o,s,w(l)?f(i,s):l);w(u)||m&&m.defaultChecked||a?S(o,s,a?u:mt(d._f)):$(s,u),c.mount&&B()}},ye=(s,a,l,m,d)=>{let u=!1,F=!1;const V={name:s};if(!r.disabled){if(!l||m){(x.isDirty||A.isDirty)&&(F=t.isDirty,t.isDirty=V.isDirty=v(),u=F!==V.isDirty);const k=ee(f(i,s),a);F=!!f(t.dirtyFields,s),k?N(t.dirtyFields,s):S(t.dirtyFields,s,!0),V.dirtyFields=t.dirtyFields,u=u||(x.dirtyFields||A.dirtyFields)&&F!==!k}if(l){const k=f(t.touchedFields,s);k||(S(t.touchedFields,s,l),V.touchedFields=t.touchedFields,u=u||(x.touchedFields||A.touchedFields)&&k!==l)}u&&d&&b.state.next(V)}return u?V:{}},Be=(s,a,l,m)=>{const d=f(t.errors,s),u=(x.isValid||A.isValid)&&H(a)&&t.isValid!==a;if(r.delayError&&l?(_=T(()=>W(s,l)),_(r.delayError)):(clearTimeout(I),_=null,l?S(t.errors,s,l):N(t.errors,s)),(l?!ee(d,l):d)||!U(m)||u){const F={...m,...u&&H(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...F},b.state.next(F)}},j=async s=>{g(s,!0);const a=await r.resolver(o,r.context,ir(s||h.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return g(s),a},se=async s=>{const{errors:a}=await j(s);if(s)for(const l of s){const m=f(a,l);m?S(t.errors,l,m):N(t.errors,l)}else t.errors=a;return a},X=async(s,a,l={valid:!0})=>{for(const m in s){const d=s[m];if(d){const{_f:u,...F}=d;if(u){const V=h.array.has(u.name),k=d._f&&or(d._f);k&&x.validatingFields&&g([m],!0);const O=await vt(d,h.disabled,o,R,r.shouldUseNativeValidation&&!a,V);if(k&&x.validatingFields&&g([m]),O[u.name]&&(l.valid=!1,a))break;!a&&(f(O,u.name)?V?mr(t.errors,O,u.name):S(t.errors,u.name,O[u.name]):N(t.errors,u.name))}!U(F)&&await X(F,a,l)}}return l.valid},E=()=>{for(const s of h.unMount){const a=f(n,s);a&&(a._f.refs?a._f.refs.every(l=>!$e(l)):!$e(a._f.ref))&&qe(s)}h.unMount=new Set},v=(s,a)=>!r.disabled&&(s&&a&&S(o,s,a),!ee(Qe(),i)),D=(s,a,l)=>Dt(s,h,{...c.mount?o:w(a)?i:Q(s)?{[s]:a}:a},l,a),P=s=>Me(f(c.mount?o:i,s,r.shouldUnregister?f(i,s,[]):[])),$=(s,a,l={})=>{const m=f(n,s);let d=a;if(m){const u=m._f;u&&(!u.disabled&&S(o,s,It(a,u)),d=Ne(u.ref)&&q(a)?"":a,wt(u.ref)?[...u.ref.options].forEach(F=>F.selected=d.includes(F.value)):u.refs?Ve(u.ref)?u.refs.length>1?u.refs.forEach(F=>(!F.defaultChecked||!F.disabled)&&(F.checked=Array.isArray(d)?!!d.find(V=>V===F.value):d===F.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(F=>F.checked=F.value===d):je(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||b.state.next({name:s,values:M(o)})))}(l.shouldDirty||l.shouldTouch)&&ye(s,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&Ue(s)},G=(s,a,l)=>{for(const m in a){const d=a[m],u=`${s}.${m}`,F=f(n,u);(h.array.has(s)||C(d)||F&&!F._f)&&!ne(d)?G(u,d,l):$(u,d,l)}},te=(s,a,l={})=>{const m=f(n,s),d=h.array.has(s),u=M(a);S(o,s,u),d?(b.array.next({name:s,values:M(o)}),(x.isDirty||x.dirtyFields||A.isDirty||A.dirtyFields)&&l.shouldDirty&&b.state.next({name:s,dirtyFields:Fe(i,o),isDirty:v(s,u)})):m&&!m._f&&!q(u)?G(s,u,l):$(s,u,l),Ft(s,h)&&b.state.next({...t}),b.state.next({name:c.mount?s:void 0,values:M(o)})},he=async s=>{c.mount=!0;const a=s.target;let l=a.name,m=!0;const d=f(n,l),u=F=>{m=Number.isNaN(F)||ne(F)&&isNaN(F.getTime())||ee(F,f(o,l,F))};if(d){let F,V;const k=a.type?mt(d._f):Vt(s),O=s.type===ke.BLUR||s.type===ke.FOCUS_OUT,Ht=!lr(d._f)&&!r.resolver&&!f(t.errors,l)&&!d._f.deps||dr(O,f(t.touchedFields,l),t.isSubmitted,Y,re),We=Ft(l,h,O);S(o,l,k),O?(d._f.onBlur&&d._f.onBlur(s),_&&_(0)):d._f.onChange&&d._f.onChange(s);const He=ye(l,k,O),$t=!U(He)||We;if(!O&&b.state.next({name:l,type:s.type,values:M(o)}),Ht)return(x.isValid||A.isValid)&&(r.mode==="onBlur"?O&&B():O||B()),$t&&b.state.next({name:l,...We?{}:He});if(!O&&We&&b.state.next({...t}),r.resolver){const{errors:ot}=await j([l]);if(u(k),m){const Yt=gt(t.errors,n,l),lt=gt(ot,n,Yt.name||l);F=lt.error,l=lt.name,V=U(ot)}}else g([l],!0),F=(await vt(d,h.disabled,o,R,r.shouldUseNativeValidation))[l],g([l]),u(k),m&&(F?V=!1:(x.isValid||A.isValid)&&(V=await X(n,!0)));m&&(d._f.deps&&Ue(d._f.deps),Be(l,V,F,He))}},pe=(s,a)=>{if(f(t.errors,a)&&s.focus)return s.focus(),1},Ue=async(s,a={})=>{let l,m;const d=be(s);if(r.resolver){const u=await se(w(s)?s:d);l=U(u),m=s?!d.some(F=>f(u,F)):l}else s?(m=(await Promise.all(d.map(async u=>{const F=f(n,u);return await X(F&&F._f?{[u]:F}:F)}))).every(Boolean),!(!m&&!t.isValid)&&B()):m=l=await X(n);return b.state.next({...!Q(s)||(x.isValid||A.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!m&&ve(n,pe,s?d:h.mount),m},Qe=s=>{const a={...c.mount?o:i};return w(s)?a:Q(s)?f(a,s):s.map(l=>f(a,l))},Xe=(s,a)=>({invalid:!!f((a||t).errors,s),isDirty:!!f((a||t).dirtyFields,s),error:f((a||t).errors,s),isValidating:!!f(t.validatingFields,s),isTouched:!!f((a||t).touchedFields,s)}),Ot=s=>{s&&be(s).forEach(a=>N(t.errors,a)),b.state.next({errors:s?t.errors:{}})},Ze=(s,a,l)=>{const m=(f(n,s,{_f:{}})._f||{}).ref,d=f(t.errors,s)||{},{ref:u,message:F,type:V,...k}=d;S(t.errors,s,{...k,...a,ref:m}),b.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},Tt=(s,a)=>K(s)?b.state.subscribe({next:l=>s(D(void 0,a),l)}):D(s,a,!0),et=s=>b.state.subscribe({next:a=>{cr(s.name,a.name,s.exact)&&ur(a,s.formState||x,Wt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a})}}).unsubscribe,Bt=s=>(c.mount=!0,A={...A,...s.formState},et({...s,formState:A})),qe=(s,a={})=>{for(const l of s?be(s):h.mount)h.mount.delete(l),h.array.delete(l),a.keepValue||(N(n,l),N(o,l)),!a.keepError&&N(t.errors,l),!a.keepDirty&&N(t.dirtyFields,l),!a.keepTouched&&N(t.touchedFields,l),!a.keepIsValidating&&N(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&N(i,l);b.state.next({values:M(o)}),b.state.next({...t,...a.keepDirty?{isDirty:v()}:{}}),!a.keepIsValid&&B()},tt=({disabled:s,name:a})=>{(H(s)&&c.mount||s||h.disabled.has(a))&&(s?h.disabled.add(a):h.disabled.delete(a))},Pe=(s,a={})=>{let l=f(n,s);const m=H(a.disabled)||H(r.disabled);return S(n,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),h.mount.add(s),l?tt({disabled:H(a.disabled)?a.disabled:r.disabled,name:s}):me(s,!0,a.value),{...m?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:ge(a.min),max:ge(a.max),minLength:ge(a.minLength),maxLength:ge(a.maxLength),pattern:ge(a.pattern)}:{},name:s,onChange:he,onBlur:he,ref:d=>{if(d){Pe(s,a),l=f(n,s);const u=w(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,F=sr(u),V=l._f.refs||[];if(F?V.find(k=>k===u):u===l._f.ref)return;S(n,s,{_f:{...l._f,...F?{refs:[...V.filter($e),u,...Array.isArray(f(i,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),me(s,!1,void 0,u)}else l=f(n,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Et(h.array,s)&&c.action)&&h.unMount.add(s)}}},rt=()=>r.shouldFocusError&&ve(n,pe,h.mount),Ut=s=>{H(s)&&(b.state.next({disabled:s}),ve(n,(a,l)=>{const m=f(n,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(d=>{d.disabled=m._f.disabled||s}))},0,!1))},st=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let d=M(o);if(b.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:F}=await j();t.errors=u,d=F}else await X(n);if(h.disabled.size)for(const u of h.disabled)S(d,u,void 0);if(N(t.errors,"root"),U(t.errors)){b.state.next({errors:{}});try{await s(d,l)}catch(u){m=u}}else a&&await a({...t.errors},l),rt(),setTimeout(rt);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(t.errors)&&!m,submitCount:t.submitCount+1,errors:t.errors}),m)throw m},qt=(s,a={})=>{f(n,s)&&(w(a.defaultValue)?te(s,M(f(i,s))):(te(s,a.defaultValue),S(i,s,M(a.defaultValue))),a.keepTouched||N(t.touchedFields,s),a.keepDirty||(N(t.dirtyFields,s),t.isDirty=a.defaultValue?v(s,M(f(i,s))):v()),a.keepError||(N(t.errors,s),x.isValid&&B()),b.state.next({...t}))},nt=(s,a={})=>{const l=s?M(s):i,m=M(l),d=U(s),u=d?i:m;if(a.keepDefaultValues||(i=l),!a.keepValues){if(a.keepDirtyValues){const F=new Set([...h.mount,...Object.keys(Fe(i,o))]);for(const V of Array.from(F))f(t.dirtyFields,V)?S(u,V,f(o,V)):te(V,f(u,V))}else{if(Je&&w(s))for(const F of h.mount){const V=f(n,F);if(V&&V._f){const k=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(Ne(k)){const O=k.closest("form");if(O){O.reset();break}}}}for(const F of h.mount)te(F,f(u,F))}o=M(u),b.array.next({values:{...u}}),b.state.next({values:{...u}})}h={mount:a.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!x.isValid||!!a.keepIsValid||!!a.keepDirtyValues,c.watch=!!r.shouldUnregister,b.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:d?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ee(s,i)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:a.keepDirtyValues?a.keepDefaultValues&&o?Fe(i,o):t.dirtyFields:a.keepDefaultValues&&s?Fe(i,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},at=(s,a)=>nt(K(s)?s(o):s,a),Pt=(s,a={})=>{const l=f(n,s),m=l&&l._f;if(m){const d=m.refs?m.refs[0]:m.ref;d.focus&&(d.focus(),a.shouldSelect&&K(d.select)&&d.select())}},Wt=s=>{t={...t,...s}},it={control:{register:Pe,unregister:qe,getFieldState:Xe,handleSubmit:st,setError:Ze,_subscribe:et,_runSchema:j,_getWatch:D,_getDirty:v,_setValid:B,_setFieldArray:z,_setDisabledField:tt,_setErrors:L,_getFieldArray:P,_reset:nt,_resetDefaultValues:()=>K(r.defaultValues)&&r.defaultValues().then(s=>{at(s,r.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:Ut,_subjects:b,_proxyFormState:x,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(s){c=s},get _defaultValues(){return i},get _names(){return h},set _names(s){h=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Bt,trigger:Ue,register:Pe,handleSubmit:st,watch:Tt,setValue:te,getValues:Qe,reset:at,resetField:qt,clearErrors:Ot,unregister:qe,setError:Ze,setFocus:Pt,getFieldState:Xe};return{...it,formControl:it}}const Fr=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Ee(e={}){const r=p.useRef(void 0),t=p.useRef(void 0),[n,i]=p.useState({isDirty:!1,isValidating:!1,isLoading:K(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:K(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...e.formControl?e.formControl:hr(e),formState:n},e.formControl&&e.defaultValues&&!K(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=r.current.control;return o._options=e,Fr(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(h=>({...h,isReady:!0})),o._formState.isReady=!0,c},[o]),p.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),p.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!U(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),p.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),p.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==n.isDirty&&o._subjects.state.next({isDirty:c})}},[o,n.isDirty]),p.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,i(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),p.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=St(n,o),r.current}const ce=Qt,Rt=y.createContext({}),de=e=>{const{name:r,rules:t,...n}=e,i=!!t?.required;return y.createElement(Rt.Provider,{value:{name:r,required:i}},y.createElement(tr,{name:r,rules:t,...n}))},Te=()=>{const e=y.useContext(Rt),r=y.useContext(Mt),{getFieldState:t,formState:n}=Oe(),i=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,required:e.required,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},Mt=y.createContext({}),gr=Jt("space-y-2",{variants:{layout:{vertical:"flex flex-col space-y-2 bg-white",horizontal:"flex items-center space-x-4"}},defaultVariants:{layout:"vertical"}}),ae=y.forwardRef(({className:e,layout:r,...t},n)=>{const i=y.useId();return y.createElement(Mt.Provider,{value:{id:i}},y.createElement("div",{ref:n,className:Re(gr({layout:r,className:e})),...t}))});ae.displayName="FormItem";const ie=y.forwardRef(({className:e,children:r,...t},n)=>{const{error:i,formItemId:o,required:c}=Te();return y.createElement(Kt,{ref:n,className:Re(i&&"font-bold text-destructive",e),htmlFor:o,...t},r,c&&y.createElement("span",{className:"ml-1 text-destructive"},"*"))});ie.displayName="FormLabel";const oe=y.forwardRef(({...e},r)=>{const{error:t,formItemId:n,formDescriptionId:i,formMessageId:o}=Te();return y.createElement(zt,{ref:r,id:n,className:"border-2 border-black bg-white p-2","aria-describedby":t?`${i} ${o}`:`${i}`,"aria-invalid":!!t,...e})});oe.displayName="FormControl";const fe=y.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:n}=Te();return y.createElement("p",{ref:t,id:n,className:Re("text-sm text-muted-foreground",e),...r})});fe.displayName="FormDescription";const le=y.forwardRef(({className:e,children:r,...t},n)=>{const{error:i,formMessageId:o}=Te(),c=i?String(i?.message??""):r;return c?y.createElement("p",{ref:n,id:o,className:Re("text-sm font-medium text-destructive",e),...t},c):null});le.displayName="FormMessage";ae.__docgenInfo={description:"",methods:[],displayName:"FormItem"};ie.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};oe.__docgenInfo={description:"",methods:[],displayName:"FormControl"};fe.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};le.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};de.__docgenInfo={description:"",methods:[],displayName:"FormField"};const wr={title:"Components/Form",component:ce},xe={render:()=>{const e=Ee({defaultValues:{name:""}});return y.createElement(ce,{...e},y.createElement("form",{onSubmit:e.handleSubmit(r=>console.warn(r)),className:"space-y-4"},y.createElement(de,{name:"name",control:e.control,render:({field:r})=>y.createElement(ae,null,y.createElement(ie,null,"Name"),y.createElement(oe,null,y.createElement(_e,{...r,placeholder:"Your name"})),y.createElement(fe,null,"Enter your full name."),y.createElement(le,null))}),y.createElement(ze,{type:"submit"},"Submit")))}},Se={render:()=>{const e=Ee({defaultValues:{name:""},mode:"onSubmit",resolver:async r=>({values:r,errors:r.name?{}:{name:{type:"required",message:"Name is required"}}})});return y.createElement(ce,{...e},y.createElement("form",{onSubmit:e.handleSubmit(()=>{}),className:"space-y-4"},y.createElement(de,{name:"name",control:e.control,render:({field:r})=>y.createElement(ae,null,y.createElement(ie,null,"Name"),y.createElement(oe,null,y.createElement(_e,{...r,placeholder:"Your name"})),y.createElement(fe,null,"Enter your full name."),y.createElement(le,null))}),y.createElement(ze,{type:"submit"},"Submit")))}},Ae={render:()=>{const e=Ee({defaultValues:{name:"John Doe"}});return y.createElement(ce,{...e},y.createElement("form",{className:"space-y-4"},y.createElement(de,{name:"name",control:e.control,render:({field:r})=>y.createElement(ae,{layout:"vertical"},y.createElement(ie,null,"Name"),y.createElement(oe,null,y.createElement(_e,{...r,disabled:!0})),y.createElement(fe,null,"Disabled input"),y.createElement(le,null))})))}},De={render:()=>{const e=Ee({defaultValues:{name:""}});return y.createElement(ce,{...e},y.createElement("form",{onSubmit:e.handleSubmit(r=>console.warn(r)),className:"space-y-4"},y.createElement(de,{name:"name",control:e.control,render:({field:r})=>y.createElement(ae,{layout:"horizontal"},y.createElement(ie,null,"Name"),y.createElement(oe,null,y.createElement(_e,{...r,placeholder:"Your name"})),y.createElement(fe,null,"Enter your full name."),y.createElement(le,null))}),y.createElement(ze,{type:"submit"},"Submit")))}},we={render:()=>{const e=Ee({defaultValues:{name:""}});return y.createElement(ce,{...e},y.createElement("form",{className:"space-y-4"},y.createElement(de,{name:"name",control:e.control,rules:{required:!0},render:({field:r})=>y.createElement(ae,null,y.createElement(ie,null,"Name"),y.createElement(oe,null,y.createElement(_e,{...r,placeholder:"Your name"})),y.createElement(le,null))})))}};xe.parameters={...xe.parameters,docs:{...xe.parameters?.docs,source:{originalSource:`{
  render: () => {
    type FormValues = {
      name: string;
    };
    const methods = useForm<FormValues>({
      defaultValues: {
        name: ""
      }
    });
    return <Form {...methods}>
                <form onSubmit={methods.handleSubmit(data => console.warn(data))} className="space-y-4">
                    <FormField<{
          name: string;
        }> name="name" control={methods.control} render={({
          field
        }) => <FormItem>
                                <FormLabel>Name</FormLabel>
                                <FormControl>
                                    <Input {...field} placeholder="Your name" />
                                </FormControl>
                                <FormDescription>Enter your full name.</FormDescription>
                                <FormMessage />
                            </FormItem>} />
                    <Button type="submit">Submit</Button>
                </form>
            </Form>;
  }
}`,...xe.parameters?.docs?.source}}};Se.parameters={...Se.parameters,docs:{...Se.parameters?.docs,source:{originalSource:`{
  render: () => {
    const methods = useForm({
      defaultValues: {
        name: ""
      },
      mode: "onSubmit",
      resolver: async values => ({
        values: values,
        errors: values.name ? {} : {
          name: {
            type: "required",
            message: "Name is required"
          }
        }
      })
    });
    return <Form {...methods}>
                <form onSubmit={methods.handleSubmit(() => {})} className="space-y-4">
                    <FormField<{
          name: string;
        }> name="name" control={methods.control} render={({
          field
        }) => <FormItem>
                                <FormLabel>Name</FormLabel>
                                <FormControl>
                                    <Input {...field} placeholder="Your name" />
                                </FormControl>
                                <FormDescription>Enter your full name.</FormDescription>
                                <FormMessage />
                            </FormItem>} />
                    <Button type="submit">Submit</Button>
                </form>
            </Form>;
  }
}`,...Se.parameters?.docs?.source}}};Ae.parameters={...Ae.parameters,docs:{...Ae.parameters?.docs,source:{originalSource:`{
  render: () => {
    type FormValues = {
      name: string;
    };
    const methods = useForm<FormValues>({
      defaultValues: {
        name: "John Doe"
      }
    });
    return <Form {...methods}>
                <form className="space-y-4">
                    <FormField<FormValues> name="name" control={methods.control} render={({
          field
        }) => <FormItem layout="vertical">
                                <FormLabel>Name</FormLabel>
                                <FormControl>
                                    <Input {...field} disabled />
                                </FormControl>
                                <FormDescription>Disabled input</FormDescription>
                                <FormMessage />
                            </FormItem>} />
                </form>
            </Form>;
  }
}`,...Ae.parameters?.docs?.source}}};De.parameters={...De.parameters,docs:{...De.parameters?.docs,source:{originalSource:`{
  render: () => {
    type FormValues = {
      name: string;
    };
    const methods = useForm<FormValues>({
      defaultValues: {
        name: ""
      }
    });
    return <Form {...methods}>
                <form onSubmit={methods.handleSubmit(data => console.warn(data))} className="space-y-4">
                    <FormField<FormValues> name="name" control={methods.control} render={({
          field
        }) => <FormItem layout="horizontal">
                                <FormLabel>Name</FormLabel>
                                <FormControl>
                                    <Input {...field} placeholder="Your name" />
                                </FormControl>
                                <FormDescription>Enter your full name.</FormDescription>
                                <FormMessage />
                            </FormItem>} />
                    <Button type="submit">Submit</Button>
                </form>
            </Form>;
  }
}`,...De.parameters?.docs?.source}}};we.parameters={...we.parameters,docs:{...we.parameters?.docs,source:{originalSource:`{
  render: () => {
    type FormValues = {
      name: string;
    };
    const methods = useForm<FormValues>({
      defaultValues: {
        name: ""
      }
    });
    return <Form {...methods}>
                <form className="space-y-4">
                    <FormField<FormValues> name="name" control={methods.control} rules={{
          required: true
        }} render={({
          field
        }) => <FormItem>
                                <FormLabel>Name</FormLabel>
                                <FormControl>
                                    <Input {...field} placeholder="Your name" />
                                </FormControl>
                                <FormMessage />
                            </FormItem>} />
                </form>
            </Form>;
  }
}`,...we.parameters?.docs?.source}}};const Cr=["Simple","WithError","Disabled","Horizontal","Required"];export{Ae as Disabled,De as Horizontal,we as Required,xe as Simple,Se as WithError,Cr as __namedExportsOrder,wr as default};
