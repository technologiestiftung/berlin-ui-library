{"version":3,"file":"index.es3.js","sources":["../src/components/Header/Header.tsx"],"sourcesContent":["\"use server\";\n/* eslint-disable complexity */\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { LogoBar } from \"./LogoBar\";\nimport { MainHeaderContent } from \"./MainHeaderContent\";\nimport { SubHeaderBar } from \"./SubHeaderBar\";\nimport { BreadcrumbItem, LinkComponentProps, MenuItem } from \"./types\";\nimport { Language } from \"./LanguageProvider\";\nimport { LanguageProvider } from \"./LanguageProvider\";\n\nexport interface HeaderProps extends LinkComponentProps {\n\t/**\n\t * Header title text\n\t */\n\theader?: string;\n\t/**\n\t * Header subtitle text\n\t */\n\tcaption?: string;\n\t/**\n\t * URL for the header link\n\t */\n\turl?: string;\n\t/**\n\t * URL for the logo link\n\t */\n\tlogoUrl?: string;\n\t/**\n\t * Custom logo component (will be used instead of default Berlin logo if provided)\n\t */\n\tlogoComponent?: React.ReactNode;\n\t/**\n\t * Breadcrumb items to display\n\t */\n\tbreadcrumbs?: BreadcrumbItem[];\n\t/**\n\t * Whether to show the breadcrumbs section\n\t */\n\tshowBreadcrumbs?: boolean;\n\t/**\n\t * Whether to show the language selector\n\t */\n\tshowLanguageSelect?: boolean;\n\t/**\n\t * Current language code\n\t */\n\tlanguage?: string;\n\t/**\n\t * Available languages\n\t */\n\tlanguages?: Language[];\n\t/**\n\t * JSON translation files keyed by language code\n\t */\n\ttranslations?: Record<string, Record<string, string>>;\n\t/**\n\t * Callback when language changes\n\t */\n\tonLanguageChange?: (code: string) => void;\n\t/**\n\t * Whether to show the search button\n\t */\n\tshowSearchButton?: boolean;\n\t/**\n\t * Callback when search button is clicked\n\t */\n\tonSearch?: () => void;\n\t/**\n\t * Whether to show the menu button\n\t */\n\tshowMenuButton?: boolean;\n\t/**\n\t * Menu items for the main menu\n\t */\n\tmenuItems?: MenuItem[];\n\t/**\n\t * Callback when menu button is clicked\n\t */\n\tonOpenMenu?: () => void;\n\t/**\n\t * Additional CSS classes\n\t */\n\tclassName?: string;\n}\n\n/**\n * Header component with integrated accessibility menu\n *\n * The Header component includes:\n * - Logo section\n * - Title and action buttons (search, menu, accessibility)\n * - Optional breadcrumbs and language selector\n * - Built-in accessibility menu drawer\n */\nexport function Header({\n\theader = \"Design System\",\n\tcaption = \"Berlin.de\",\n\turl = \"/\",\n\tlogoUrl = \"https://www.berlin.de\",\n\tlogoComponent,\n\tLinkComponent,\n\tbreadcrumbs = [],\n\tshowBreadcrumbs = true,\n\tshowLanguageSelect = true,\n\tlanguage = \"de\",\n\tlanguages = [\n\t\t{ code: \"de\", label: \"Deutsch\" },\n\t\t{ code: \"en\", label: \"English\" },\n\t],\n\ttranslations,\n\tonLanguageChange = () => {},\n\tshowSearchButton = true,\n\tonSearch = () => {},\n\tshowMenuButton = true,\n\tmenuItems = [],\n\tonOpenMenu = () => {},\n\tclassName = \"\",\n}: HeaderProps) {\n\tconst [isSticky, setIsSticky] = useState(false);\n\tconst headerRef = useRef<HTMLElement>(null);\n\n\tuseEffect(() => {\n\t\tconst headerElement = headerRef.current;\n\n\t\tif (headerElement) {\n\t\t\t// Create a sentinel element that will be positioned at the top of the viewport\n\t\t\tconst sentinel = document.createElement(\"div\");\n\t\t\tsentinel.style.height = \"1px\";\n\t\t\tsentinel.style.width = \"100%\";\n\t\t\tsentinel.style.position = \"absolute\";\n\t\t\tsentinel.style.top = \"0\";\n\t\t\tsentinel.style.left = \"0\";\n\t\t\tsentinel.style.zIndex = \"-1\";\n\n\t\t\t// Insert the sentinel before the header\n\t\t\theaderElement.parentElement?.insertBefore(sentinel, headerElement);\n\n\t\t\t// Create and configure the observer\n\t\t\tconst observer = new IntersectionObserver(\n\t\t\t\t([entry]) => {\n\t\t\t\t\t// When sentinel is not visible (scrolled out of view), header should be sticky\n\t\t\t\t\tsetIsSticky(!entry.isIntersecting);\n\t\t\t\t},\n\t\t\t\t{ threshold: [0] },\n\t\t\t);\n\n\t\t\t// Start observing the sentinel\n\t\t\tobserver.observe(sentinel);\n\n\t\t\t// Cleanup function\n\t\t\treturn () => {\n\t\t\t\tobserver.disconnect();\n\t\t\t\tif (sentinel.parentElement) {\n\t\t\t\t\tsentinel.parentElement.removeChild(sentinel);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Return undefined for when headerElement doesn't exist\n\t\treturn undefined;\n\t}, []);\n\n\treturn (\n\t\t<LanguageProvider\n\t\t\tinitialLanguage={language}\n\t\t\tlanguages={languages}\n\t\t\ttranslations={translations}\n\t\t\tonLanguageChange={onLanguageChange}\n\t\t>\n\t\t\t<header\n\t\t\t\tref={headerRef}\n\t\t\t\tclassName={`sticky top-0 z-20 box-border leading-[1.22rem] ${className}`}\n\t\t\t>\n\t\t\t\t{/* Logo Bar */}\n\t\t\t\t<LogoBar\n\t\t\t\t\tlogoUrl={logoUrl}\n\t\t\t\t\tlogoComponent={logoComponent}\n\t\t\t\t\tisSticky={isSticky}\n\t\t\t\t/>\n\n\t\t\t\t{/* Main Header Content */}\n\t\t\t\t<MainHeaderContent\n\t\t\t\t\theader={header}\n\t\t\t\t\tcaption={caption}\n\t\t\t\t\turl={url}\n\t\t\t\t\tshowSearchButton={showSearchButton}\n\t\t\t\t\tonSearch={onSearch}\n\t\t\t\t\tshowMenuButton={showMenuButton}\n\t\t\t\t\tmenuItems={menuItems}\n\t\t\t\t\tonOpenMenu={onOpenMenu}\n\t\t\t\t/>\n\n\t\t\t\t{/* Sub Header Bar */}\n\t\t\t\t<SubHeaderBar\n\t\t\t\t\tshowBreadcrumbs={showBreadcrumbs}\n\t\t\t\t\tbreadcrumbs={breadcrumbs}\n\t\t\t\t\tshowLanguageSelect={showLanguageSelect}\n\t\t\t\t\tLinkComponent={LinkComponent}\n\t\t\t\t\tisSticky={isSticky}\n\t\t\t\t/>\n\t\t\t</header>\n\t\t</LanguageProvider>\n\t);\n}\n"],"names":["Header","header","caption","url","logoUrl","logoComponent","LinkComponent","breadcrumbs","showBreadcrumbs","showLanguageSelect","language","languages","translations","onLanguageChange","showSearchButton","onSearch","showMenuButton","menuItems","onOpenMenu","className","isSticky","setIsSticky","useState","headerRef","useRef","useEffect","headerElement","sentinel","observer","entry","jsx","LanguageProvider","jsxs","LogoBar","MainHeaderContent","SubHeaderBar"],"mappings":";;;;;;AA8FO,SAASA,EAAO;AAAA,EACtB,QAAAC,IAAS;AAAA,EACT,SAAAC,IAAU;AAAA,EACV,KAAAC,IAAM;AAAA,EACN,SAAAC,IAAU;AAAA,EACV,eAAAC;AAAA,EACA,eAAAC;AAAA,EACA,aAAAC,IAAc,CAAC;AAAA,EACf,iBAAAC,IAAkB;AAAA,EAClB,oBAAAC,IAAqB;AAAA,EACrB,UAAAC,IAAW;AAAA,EACX,WAAAC,IAAY;AAAA,IACX,EAAE,MAAM,MAAM,OAAO,UAAU;AAAA,IAC/B,EAAE,MAAM,MAAM,OAAO,UAAU;AAAA,EAChC;AAAA,EACA,cAAAC;AAAA,EACA,kBAAAC,IAAmB,MAAM;AAAA,EAAC;AAAA,EAC1B,kBAAAC,IAAmB;AAAA,EACnB,UAAAC,IAAW,MAAM;AAAA,EAAC;AAAA,EAClB,gBAAAC,IAAiB;AAAA,EACjB,WAAAC,IAAY,CAAC;AAAA,EACb,YAAAC,IAAa,MAAM;AAAA,EAAC;AAAA,EACpB,WAAAC,IAAY;AACb,GAAgB;AACf,QAAM,CAACC,GAAUC,CAAW,IAAIC,EAAS,EAAK,GACxCC,IAAYC,EAAoB,IAAI;AAE1C,SAAAC,EAAU,MAAM;AACf,UAAMC,IAAgBH,EAAU;AAEhC,QAAIG,GAAe;AAEZ,YAAAC,IAAW,SAAS,cAAc,KAAK;AAC7C,MAAAA,EAAS,MAAM,SAAS,OACxBA,EAAS,MAAM,QAAQ,QACvBA,EAAS,MAAM,WAAW,YAC1BA,EAAS,MAAM,MAAM,KACrBA,EAAS,MAAM,OAAO,KACtBA,EAAS,MAAM,SAAS,MAGVD,EAAA,eAAe,aAAaC,GAAUD,CAAa;AAGjE,YAAME,IAAW,IAAI;AAAA,QACpB,CAAC,CAACC,CAAK,MAAM;AAEA,UAAAR,EAAA,CAACQ,EAAM,cAAc;AAAA,QAClC;AAAA,QACA,EAAE,WAAW,CAAC,CAAC,EAAE;AAAA,MAClB;AAGA,aAAAD,EAAS,QAAQD,CAAQ,GAGlB,MAAM;AACZ,QAAAC,EAAS,WAAW,GAChBD,EAAS,iBACHA,EAAA,cAAc,YAAYA,CAAQ;AAAA,MAE7C;AAAA,IAAA;AAAA,EAKF,GAAG,EAAE,GAGJG,gBAAAA,EAAA;AAAA,IAACC;AAAA,IAAA;AAAA,MACA,iBAAiBrB;AAAA,MACjB,WAAAC;AAAA,MACA,cAAAC;AAAA,MACA,kBAAAC;AAAA,MAEA,UAAAmB,gBAAAA,EAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACA,KAAKT;AAAA,UACL,WAAW,kDAAkDJ,CAAS;AAAA,UAGtE,UAAA;AAAA,YAAAW,gBAAAA,EAAA;AAAA,cAACG;AAAA,cAAA;AAAA,gBACA,SAAA7B;AAAA,gBACA,eAAAC;AAAA,gBACA,UAAAe;AAAA,cAAA;AAAA,YACD;AAAA,YAGAU,gBAAAA,EAAA;AAAA,cAACI;AAAA,cAAA;AAAA,gBACA,QAAAjC;AAAA,gBACA,SAAAC;AAAA,gBACA,KAAAC;AAAA,gBACA,kBAAAW;AAAA,gBACA,UAAAC;AAAA,gBACA,gBAAAC;AAAA,gBACA,WAAAC;AAAA,gBACA,YAAAC;AAAA,cAAA;AAAA,YACD;AAAA,YAGAY,gBAAAA,EAAA;AAAA,cAACK;AAAA,cAAA;AAAA,gBACA,iBAAA3B;AAAA,gBACA,aAAAD;AAAA,gBACA,oBAAAE;AAAA,gBACA,eAAAH;AAAA,gBACA,UAAAc;AAAA,cAAA;AAAA,YAAA;AAAA,UACD;AAAA,QAAA;AAAA,MAAA;AAAA,IACD;AAAA,EACD;AAEF;"}