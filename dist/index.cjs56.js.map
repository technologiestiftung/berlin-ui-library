{"version":3,"file":"index.cjs56.js","sources":["../src/elements/Header/LanguageSelect.tsx"],"sourcesContent":["import React, { RefObject, useRef, useState } from \"react\";\nimport ChevronDown from \"@/assets/icons/chevron-down.svg?react\";\nimport ChevronUp from \"@/assets/icons/chevron-up.svg?react\";\nimport { useLanguage, t } from \"./LanguageProvider\";\n\n/**\n * Hook for closing dropdown when clicking outside\n */\nfunction useCloseOnClickOutside(\n\tref: React.RefObject<HTMLElement>,\n\tsetIsOpen: (isOpen: boolean) => void,\n) {\n\tReact.useEffect(() => {\n\t\tconst handleClickOutside = (event: MouseEvent) => {\n\t\t\tif (ref.current && !ref.current.contains(event.target as Node)) {\n\t\t\t\tsetIsOpen(false);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\n\t\t};\n\t}, [ref, setIsOpen]);\n}\n\nexport interface LanguageSelectProps {\n\tclassName?: string;\n}\n\nexport function LanguageSelect({ className = \"\" }: LanguageSelectProps) {\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst languageSelectRef = useRef<HTMLDivElement>(null);\n\tconst { currentLanguage, languages, translations, setLanguage } =\n\t\tuseLanguage();\n\n\tuseCloseOnClickOutside(\n\t\tlanguageSelectRef as RefObject<HTMLElement>,\n\t\tsetIsOpen,\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`relative z-[10] text-black ${className}`}\n\t\t\tref={languageSelectRef}\n\t\t>\n\t\t\t<button\n\t\t\t\tclassName=\"flex h-full items-center gap-2\"\n\t\t\t\tonClick={() => setIsOpen(!isOpen)}\n\t\t\t\taria-label={t(isOpen ? \"collapse\" : \"expand\", translations)}\n\t\t\t\taria-expanded={isOpen}\n\t\t\t>\n\t\t\t\t<span className=\"font-bolder flex size-5 items-center justify-center bg-black text-[11px] text-white\">\n\t\t\t\t\t{currentLanguage.toLowerCase()}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"pointer-events-none flex size-3 items-center justify-center text-red\">\n\t\t\t\t\t{isOpen ? (\n\t\t\t\t\t\t<ChevronUp className=\"text-berlin-green\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ChevronDown className=\"text-berlin-green\" />\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</button>\n\n\t\t\t<div\n\t\t\t\tclassName={`${isOpen ? \"block\" : \"hidden\"} absolute top-8 right-0 bg-white shadow-lg`}\n\t\t\t>\n\t\t\t\t<ul>\n\t\t\t\t\t{languages.map((language) => (\n\t\t\t\t\t\t<li key={language.code}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"block flex w-full gap-2 px-2 py-1 text-base hover:bg-gray-100\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetLanguage(language.code);\n\t\t\t\t\t\t\t\t\tsetIsOpen(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"flex size-6 items-center justify-center bg-black text-[11px] font-bold text-white\">\n\t\t\t\t\t\t\t\t\t{language.code.toLowerCase()}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{language.label}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["useCloseOnClickOutside","ref","setIsOpen","React","handleClickOutside","event","LanguageSelect","className","isOpen","useState","languageSelectRef","useRef","currentLanguage","languages","translations","setLanguage","useLanguage","jsxs","t","jsx","ChevronUp","ChevronDown","language"],"mappings":"+NAQA,SAASA,EACRC,EACAC,EACC,CACDC,EAAM,UAAU,IAAM,CACrB,MAAMC,EAAsBC,GAAsB,CAC7CJ,EAAI,SAAW,CAACA,EAAI,QAAQ,SAASI,EAAM,MAAc,GAC5DH,EAAU,EAAK,CAEjB,EAEA,gBAAS,iBAAiB,YAAaE,CAAkB,EAClD,IAAM,CACZ,SAAS,oBAAoB,YAAaA,CAAkB,CAC7D,CACD,EAAG,CAACH,EAAKC,CAAS,CAAC,CACpB,CAMO,SAASI,EAAe,CAAE,UAAAC,EAAY,IAA2B,CACvE,KAAM,CAACC,EAAQN,CAAS,EAAIO,EAAAA,SAAS,EAAK,EACpCC,EAAoBC,EAAAA,OAAuB,IAAI,EAC/C,CAAE,gBAAAC,EAAiB,UAAAC,EAAW,aAAAC,EAAc,YAAAC,CAAA,EACjDC,EAAAA,YAAA,EAED,OAAAhB,EACCU,EACAR,CAAA,EAIAe,EAAAA,kBAAAA,KAAC,MAAA,CACA,UAAW,8BAA8BV,CAAS,GAClD,IAAKG,EAEL,SAAA,CAAAO,EAAAA,kBAAAA,KAAC,SAAA,CACA,UAAU,iCACV,QAAS,IAAMf,EAAU,CAACM,CAAM,EAChC,aAAYU,EAAAA,EAAEV,EAAS,WAAa,SAAUM,CAAY,EAC1D,gBAAeN,EAEf,SAAA,CAAAW,wBAAC,OAAA,CAAK,UAAU,sFACd,SAAAP,EAAgB,cAClB,EACAO,EAAAA,kBAAAA,IAAC,OAAA,CAAK,UAAU,uEACd,WACAA,EAAAA,kBAAAA,IAACC,EAAAA,QAAA,CAAU,UAAU,mBAAA,CAAoB,EAEzCD,EAAAA,kBAAAA,IAACE,EAAAA,QAAA,CAAY,UAAU,oBAAoB,CAAA,CAE7C,CAAA,CAAA,CAAA,EAGDF,EAAAA,kBAAAA,IAAC,MAAA,CACA,UAAW,GAAGX,EAAS,QAAU,QAAQ,6CAEzC,iCAAC,KAAA,CACC,SAAAK,EAAU,IAAKS,2BACd,KAAA,CACA,SAAAL,EAAAA,kBAAAA,KAAC,SAAA,CACA,UAAU,gEACV,QAAS,IAAM,CACdF,EAAYO,EAAS,IAAI,EACzBpB,EAAU,EAAK,CAChB,EAEA,SAAA,CAAAiB,wBAAC,QAAK,UAAU,oFACd,SAAAG,EAAS,KAAK,cAChB,EACCA,EAAS,KAAA,CAAA,CAAA,GAXHA,EAAS,IAalB,CACA,CAAA,CACF,CAAA,CAAA,CACD,CAAA,CAAA,CAGH"}