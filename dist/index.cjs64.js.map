{"version":3,"file":"index.cjs64.js","sources":["../src/elements/Header/MenuDrawer.tsx"],"sourcesContent":["import { MenuItem } from \"./types\";\nimport { Drawer, DrawerContent } from \"../Drawer/Drawer\";\nimport { useLanguage, t } from \"./LanguageProvider\";\nimport { ChevronDown } from \"lucide-react\";\nimport { useState } from \"react\";\n\nexport interface MenuDrawerProps {\n\t/**\n\t * Whether the menu drawer is open\n\t */\n\tisOpen: boolean;\n\t/**\n\t * Function to close the menu drawer\n\t */\n\tclose: () => void;\n\t/**\n\t * Menu items to display\n\t */\n\tmenuItems: MenuItem[];\n}\n\nexport function MenuDrawer({ isOpen, close, menuItems }: MenuDrawerProps) {\n\tconst { translations } = useLanguage();\n\tconst [openItems, setOpenItems] = useState<Record<string, boolean>>({});\n\n\tconst toggleItem = (itemId: string) => {\n\t\tsetOpenItems((prevOpenItems) => ({\n\t\t\t...prevOpenItems,\n\t\t\t[itemId]: !prevOpenItems[itemId],\n\t\t}));\n\t};\n\n\tconst getMenuItemClassName = (level: number): string => {\n\t\tif (level % 2 === 0 && level > 0) {\n\t\t\treturn \"bg-menu-background-dark pl-4\";\n\t\t} else if (level % 2 === 1) {\n\t\t\treturn \"bg-menu-background pl-4\";\n\t\t}\n\t\treturn \"border-t border-border-light\";\n\t};\n\n\t// Recursive function to render menu items and their children\n\tconst renderMenuItems = (items: MenuItem[], level = 0, parentPath = \"\") => {\n\t\treturn items.map((item, index) => {\n\t\t\tconst itemId = `${parentPath}${item.label}-${index}`; // Simple unique ID\n\t\t\tconst isItemOpen = !!openItems[itemId];\n\n\t\t\tconst baseOuterDivStyling = getMenuItemClassName(level);\n\t\t\tconst parentInteractiveDivClasses = [\n\t\t\t\t\"flex h-[55px] items-center\",\n\t\t\t\t// Shadow class removed from here\n\t\t\t]\n\t\t\t\t.join(\" \")\n\t\t\t\t.trim();\n\n\t\t\tconst outerDivClasses = [\n\t\t\t\tbaseOuterDivStyling,\n\t\t\t\tisItemOpen\n\t\t\t\t\t? \"shadow-[0_7px_7px_rgba(150,150,150,0.1)] relative z-10\" // Shadow applied to the outer div, primarily at the bottom\n\t\t\t\t\t: \"\",\n\t\t\t]\n\t\t\t\t.join(\" \")\n\t\t\t\t.trim();\n\n\t\t\treturn (\n\t\t\t\t<div key={itemId} className={outerDivClasses}>\n\t\t\t\t\t{\" \"}\n\t\t\t\t\t{/* outerDiv now has conditional bottom shadow */}\n\t\t\t\t\t<div className={parentInteractiveDivClasses}>\n\t\t\t\t\t\t{item.icon && <span className=\"mr-2\">{item.icon}</span>}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\tclassName=\"m-[3px] flex w-full items-center px-[24px] py-[0.1rem] text-lg transition-colors duration-200 hover:underline\"\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\tif (item.href === \"#\" || item.href === \"\") {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (item.children && item.children.length > 0) {\n\t\t\t\t\t\t\t\t\t\ttoggleItem(itemId);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (item.children && item.children.length > 0) {\n\t\t\t\t\t\t\t\t\t// If it's a link but also has children, allow toggle without navigation for now\n\t\t\t\t\t\t\t\t\t// or decide on specific UX. For now, let's make the chevron toggle it.\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{item.label}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t{item.children && item.children.length > 0 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"mx-[3px] my-[0.5rem] cursor-pointer border-l border-black px-[0.7rem] pt-[0.3rem] pb-[0.4rem]\"\n\t\t\t\t\t\t\t\tonClick={() => toggleItem(itemId)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ChevronDown\n\t\t\t\t\t\t\t\t\tclassName={`transform transition-transform duration-200 ${\n\t\t\t\t\t\t\t\t\t\tisItemOpen ? \"rotate-180\" : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{isItemOpen && item.children && item.children.length > 0 && (\n\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t{renderMenuItems(item.children, level + 1, `${itemId}-`)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t};\n\n\treturn (\n\t\t<Drawer open={isOpen} onOpenChange={(open) => !open && close()}>\n\t\t\t<DrawerContent className=\"flex flex-col gap-2\">\n\t\t\t\t<div className=\"text-base\">\n\t\t\t\t\t<div className=\"mb-5 flex flex-row items-center justify-between\">\n\t\t\t\t\t\t<p className=\"px-6 text-2xl font-bold\">\n\t\t\t\t\t\t\t{t(\"menu.title\", translations) || \"Menu\"}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t{menuItems.length > 0 ? (\n\t\t\t\t\t\t\trenderMenuItems(menuItems)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{t(\"menu.noItems\", translations) || \"No menu items available.\"}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</DrawerContent>\n\t\t</Drawer>\n\t);\n}\n"],"names":["MenuDrawer","isOpen","close","menuItems","translations","useLanguage","openItems","setOpenItems","useState","toggleItem","itemId","prevOpenItems","getMenuItemClassName","level","renderMenuItems","items","parentPath","item","index","isItemOpen","baseOuterDivStyling","parentInteractiveDivClasses","outerDivClasses","jsxs","jsx","e","ChevronDown","Drawer","open","DrawerContent","t"],"mappings":"0NAqBO,SAASA,EAAW,CAAE,OAAAC,EAAQ,MAAAC,EAAO,UAAAC,GAA8B,CACzE,KAAM,CAAE,aAAAC,CAAA,EAAiBC,cAAA,EACnB,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAkC,CAAA,CAAE,EAEhEC,EAAcC,GAAmB,CACtCH,EAAcI,IAAmB,CAChC,GAAGA,EACH,CAACD,CAAM,EAAG,CAACC,EAAcD,CAAM,CAAA,EAC9B,CACH,EAEME,EAAwBC,GACzBA,EAAQ,IAAM,GAAKA,EAAQ,EACvB,+BACGA,EAAQ,IAAM,EACjB,0BAED,+BAIFC,EAAkB,CAACC,EAAmBF,EAAQ,EAAGG,EAAa,KAC5DD,EAAM,IAAI,CAACE,EAAMC,IAAU,CACjC,MAAMR,EAAS,GAAGM,CAAU,GAAGC,EAAK,KAAK,IAAIC,CAAK,GAC5CC,EAAa,CAAC,CAACb,EAAUI,CAAM,EAE/BU,EAAsBR,EAAqBC,CAAK,EAChDQ,EAA8B,CACnC,4BAAA,EAGC,KAAK,GAAG,EACR,KAAA,EAEIC,EAAkB,CACvBF,EACAD,EACG,yDACA,EAAA,EAEF,KAAK,GAAG,EACR,KAAA,EAEF,OACCI,EAAAA,kBAAAA,KAAC,MAAA,CAAiB,UAAWD,EAC3B,SAAA,CAAA,IAEDC,EAAAA,kBAAAA,KAAC,MAAA,CAAI,UAAWF,EACd,SAAA,CAAAJ,EAAK,MAAQO,EAAAA,kBAAAA,IAAC,OAAA,CAAK,UAAU,OAAQ,WAAK,KAAK,EAChDA,EAAAA,kBAAAA,IAAC,IAAA,CACA,KAAMP,EAAK,KACX,UAAU,gHACV,QAAUQ,GAAM,CACXR,EAAK,OAAS,KAAOA,EAAK,OAAS,IACtCQ,EAAE,eAAA,EACER,EAAK,UAAYA,EAAK,SAAS,OAAS,GAC3CR,EAAWC,CAAM,GAERO,EAAK,UAAYA,EAAK,SAAS,OAAS,CAIpD,EAEC,SAAAA,EAAK,KAAA,CAAA,EAENA,EAAK,UAAYA,EAAK,SAAS,OAAS,GACxCO,EAAAA,kBAAAA,IAAC,MAAA,CACA,UAAU,gGACV,QAAS,IAAMf,EAAWC,CAAM,EAEhC,SAAAc,EAAAA,kBAAAA,IAACE,EAAAA,YAAA,CACA,UAAW,+CACVP,EAAa,aAAe,EAC7B,EAAA,CAAA,CACD,CAAA,CACD,EAEF,EACCA,GAAcF,EAAK,UAAYA,EAAK,SAAS,OAAS,GACtDM,EAAAA,kBAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAA,IACAT,EAAgBG,EAAK,SAAUJ,EAAQ,EAAG,GAAGH,CAAM,GAAG,CAAA,CAAA,CACxD,CAAA,CAAA,EAvCQA,CAyCV,CAEF,CAAC,EAGF,+BACEiB,EAAAA,OAAA,CAAO,KAAM1B,EAAQ,aAAe2B,GAAS,CAACA,GAAQ1B,IACtD,iCAAC2B,gBAAA,CAAc,UAAU,sBACxB,SAAAN,yBAAC,MAAA,CAAI,UAAU,YACd,SAAA,CAAAC,EAAAA,kBAAAA,IAAC,MAAA,CAAI,UAAU,kDACd,SAAAA,EAAAA,kBAAAA,IAAC,IAAA,CAAE,UAAU,0BACX,SAAAM,IAAE,aAAc1B,CAAY,GAAK,MAAA,CACnC,EACD,0BAEC,MAAA,CAAI,UAAU,sBACb,SAAAD,EAAU,OAAS,EACnBW,EAAgBX,CAAS,0BAExB,IAAA,CACC,SAAA2B,EAAAA,EAAE,eAAgB1B,CAAY,GAAK,2BACrC,CAAA,CAEF,CAAA,CAAA,CACD,EACD,EACD,CAEF"}