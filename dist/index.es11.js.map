{"version":3,"file":"index.es11.js","sources":["../src/elements/Form/Form.tsx"],"sourcesContent":["\"use client\";\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport {\n\tController,\n\tFormProvider,\n\tuseFormContext,\n\ttype ControllerProps,\n\ttype FieldPath,\n\ttype FieldValues,\n} from \"react-hook-form\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"../Label\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n\tname: TName;\n\trequired: boolean;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n\t{} as FormFieldContextValue,\n);\n\nconst FormField = <\n\tTFieldValues extends FieldValues = FieldValues,\n\tTName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>(\n\tprops: ControllerProps<TFieldValues, TName>,\n) => {\n\tconst { name, rules, ...rest } = props;\n\tconst isRequired = Boolean(rules?.required);\n\treturn (\n\t\t<FormFieldContext.Provider value={{ name, required: isRequired }}>\n\t\t\t<Controller {...{ name, rules, ...rest }} />\n\t\t</FormFieldContext.Provider>\n\t);\n};\n\nconst useFormField = () => {\n\tconst fieldContext = React.useContext(FormFieldContext);\n\tconst itemContext = React.useContext(FormItemContext);\n\tconst { getFieldState, formState } = useFormContext();\n\n\tconst fieldState = getFieldState(fieldContext.name, formState);\n\n\tif (!fieldContext) {\n\t\tthrow new Error(\"useFormField should be used within <FormField>\");\n\t}\n\n\tconst { id } = itemContext;\n\n\treturn {\n\t\tid,\n\t\tname: fieldContext.name,\n\t\trequired: fieldContext.required,\n\t\tformItemId: `${id}-form-item`,\n\t\tformDescriptionId: `${id}-form-item-description`,\n\t\tformMessageId: `${id}-form-item-message`,\n\t\t...fieldState,\n\t};\n};\n\ntype FormItemContextValue = {\n\tid: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n\t{} as FormItemContextValue,\n);\n\nconst formItemVariants = cva(\"space-y-1\", {\n\tvariants: {\n\t\tlayout: {\n\t\t\tvertical: \"flex flex-col space-y-1\",\n\t\t\thorizontal: \"flex items-center space-x-4\",\n\t\t},\n\t\tbackground: {\n\t\t\twhite: \"bg-white\",\n\t\t\tgray: \"bg-block-colored\",\n\t\t\ttransparent: \"bg-transparent\",\n\t\t\tnone: \"\",\n\t\t},\n\t},\n\tdefaultVariants: {\n\t\tlayout: \"vertical\",\n\t\tbackground: \"none\",\n\t},\n});\n\nconst FormItem = React.forwardRef<\n\tHTMLDivElement,\n\tReact.HTMLAttributes<HTMLDivElement> & VariantProps<typeof formItemVariants>\n>(({ className, layout, background, ...props }, ref) => {\n\tconst id = React.useId();\n\n\treturn (\n\t\t<FormItemContext.Provider value={{ id }}>\n\t\t\t<div\n\t\t\t\tref={ref}\n\t\t\t\tclassName={cn(formItemVariants({ layout, background, className }))}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</FormItemContext.Provider>\n\t);\n});\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n\tReact.ElementRef<typeof LabelPrimitive.Root>,\n\tReact.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, children, ...props }, ref) => {\n\tconst { formItemId, required } = useFormField();\n\n\treturn (\n\t\t<Label ref={ref} className={cn(className)} htmlFor={formItemId} {...props}>\n\t\t\t{children}\n\t\t\t{required && (\n\t\t\t\t<span className=\"ml-1 text-[1.75em] text-decorative-destructive\">\n\t\t\t\t\t*\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</Label>\n\t);\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<\n\tReact.ElementRef<typeof Slot>,\n\tReact.ComponentPropsWithoutRef<typeof Slot>\n>(({ className, ...props }, ref) => {\n\tconst { error, formItemId, formDescriptionId, formMessageId } =\n\t\tuseFormField();\n\n\treturn (\n\t\t<Slot\n\t\t\tref={ref}\n\t\t\tid={formItemId}\n\t\t\tclassName={cn(\"p-2\", className)}\n\t\t\taria-describedby={\n\t\t\t\t!error\n\t\t\t\t\t? `${formDescriptionId}`\n\t\t\t\t\t: `${formDescriptionId} ${formMessageId}`\n\t\t\t}\n\t\t\taria-invalid={!!error}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<\n\tHTMLParagraphElement,\n\tReact.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n\tconst { formDescriptionId } = useFormField();\n\n\treturn (\n\t\t<p\n\t\t\tref={ref}\n\t\t\tid={formDescriptionId}\n\t\t\tclassName={cn(\"text-text-lightest\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n});\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<\n\tHTMLParagraphElement,\n\tReact.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n\tconst { error, formMessageId } = useFormField();\n\tconst body = error ? String(error?.message ?? \"\") : children;\n\n\tif (!body) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<p\n\t\t\tref={ref}\n\t\t\tid={formMessageId}\n\t\t\tclassName={cn(\n\t\t\t\t\"mb-6 block w-fit min-w-full border border-red-50 bg-red-50 p-[18px] text-red-800\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{body}\n\t\t</p>\n\t);\n});\nFormMessage.displayName = \"FormMessage\";\n\nexport {\n\tuseFormField,\n\tForm,\n\tFormItem,\n\tFormLabel,\n\tFormControl,\n\tFormDescription,\n\tFormMessage,\n\tFormField,\n};\n"],"names":["Form","FormProvider","FormFieldContext","React","FormField","props","name","rules","rest","isRequired","jsx","Controller","useFormField","fieldContext","itemContext","FormItemContext","getFieldState","formState","useFormContext","fieldState","id","formItemVariants","cva","FormItem","className","layout","background","ref","cn","FormLabel","children","formItemId","required","jsxs","Label","FormControl","error","formDescriptionId","formMessageId","Slot","FormDescription","FormMessage","body"],"mappings":"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"}