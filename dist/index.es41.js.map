{"version":3,"file":"index.es41.js","sources":["../src/components/Header/LanguageSelect.tsx"],"sourcesContent":["import React, { RefObject, useRef, useState } from \"react\";\nimport ChevronDown from \"@/assets/icons/chevron_down.svg?react\";\nimport ChevronUp from \"@/assets/icons/chevron_up.svg?react\";\nimport { useLanguage, t } from \"./LanguageProvider\";\n\n/**\n * Hook for closing dropdown when clicking outside\n */\nfunction useCloseOnClickOutside(\n\tref: React.RefObject<HTMLElement>,\n\tsetIsOpen: (isOpen: boolean) => void,\n) {\n\tReact.useEffect(() => {\n\t\tconst handleClickOutside = (event: MouseEvent) => {\n\t\t\tif (ref.current && !ref.current.contains(event.target as Node)) {\n\t\t\t\tsetIsOpen(false);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\n\t\t};\n\t}, [ref, setIsOpen]);\n}\n\nexport interface LanguageSelectProps {\n\tclassName?: string;\n}\n\nexport function LanguageSelect({ className = \"\" }: LanguageSelectProps) {\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst languageSelectRef = useRef<HTMLDivElement>(null);\n\tconst { currentLanguage, languages, translations, setLanguage } =\n\t\tuseLanguage();\n\n\tuseCloseOnClickOutside(\n\t\tlanguageSelectRef as RefObject<HTMLElement>,\n\t\tsetIsOpen,\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`relative z-[10] text-black ${className}`}\n\t\t\tref={languageSelectRef}\n\t\t>\n\t\t\t<button\n\t\t\t\tclassName=\"flex items-center\"\n\t\t\t\tonClick={() => setIsOpen(!isOpen)}\n\t\t\t\taria-label={t(isOpen ? \"collapse\" : \"expand\", translations)}\n\t\t\t\taria-expanded={isOpen}\n\t\t\t>\n\t\t\t\t<span className=\"flex size-6 items-center justify-center bg-black text-[11px] font-bold text-white\">\n\t\t\t\t\t{currentLanguage.toLowerCase()}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"pointer-events-none flex size-8 items-center justify-center\">\n\t\t\t\t\t{isOpen ? (\n\t\t\t\t\t\t<ChevronUp className=\"text-berlin-green\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ChevronDown className=\"text-berlin-green\" />\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</button>\n\n\t\t\t<div\n\t\t\t\tclassName={`${isOpen ? \"block\" : \"hidden\"} absolute top-8 right-0 bg-white shadow-lg`}\n\t\t\t>\n\t\t\t\t<ul>\n\t\t\t\t\t{languages.map((language) => (\n\t\t\t\t\t\t<li key={language.code}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"block flex w-full gap-2 px-2 py-1 text-base hover:bg-gray-100\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetLanguage(language.code);\n\t\t\t\t\t\t\t\t\tsetIsOpen(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"flex size-6 items-center justify-center bg-black text-[11px] font-bold text-white\">\n\t\t\t\t\t\t\t\t\t{language.code.toLowerCase()}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{language.label}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":["useCloseOnClickOutside","ref","setIsOpen","React","handleClickOutside","event","LanguageSelect","className","isOpen","useState","languageSelectRef","useRef","currentLanguage","languages","translations","setLanguage","useLanguage","jsxs","t","jsx","ChevronUp","ChevronDown","language"],"mappings":";;;;;AAQA,SAASA,EACRC,GACAC,GACC;AACDC,EAAAA,EAAM,UAAU,MAAM;AACf,UAAAC,IAAqB,CAACC,MAAsB;AAC7C,MAAAJ,EAAI,WAAW,CAACA,EAAI,QAAQ,SAASI,EAAM,MAAc,KAC5DH,EAAU,EAAK;AAAA,IAEjB;AAES,oBAAA,iBAAiB,aAAaE,CAAkB,GAClD,MAAM;AACH,eAAA,oBAAoB,aAAaA,CAAkB;AAAA,IAC7D;AAAA,EAAA,GACE,CAACH,GAAKC,CAAS,CAAC;AACpB;AAMO,SAASI,EAAe,EAAE,WAAAC,IAAY,MAA2B;AACvE,QAAM,CAACC,GAAQN,CAAS,IAAIO,EAAS,EAAK,GACpCC,IAAoBC,EAAuB,IAAI,GAC/C,EAAE,iBAAAC,GAAiB,WAAAC,GAAW,cAAAC,GAAc,aAAAC,EAAA,IACjDC,EAAY;AAEb,SAAAhB;AAAA,IACCU;AAAA,IACAR;AAAA,EACD,GAGCe,gBAAAA,EAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACA,WAAW,8BAA8BV,CAAS;AAAA,MAClD,KAAKG;AAAA,MAEL,UAAA;AAAA,QAAAO,gBAAAA,EAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACA,WAAU;AAAA,YACV,SAAS,MAAMf,EAAU,CAACM,CAAM;AAAA,YAChC,cAAYU,EAAEV,IAAS,aAAa,UAAUM,CAAY;AAAA,YAC1D,iBAAeN;AAAA,YAEf,UAAA;AAAA,cAAAW,gBAAAA,MAAC,QAAK,EAAA,WAAU,qFACd,UAAAP,EAAgB,eAClB;AAAA,cACCO,gBAAAA,EAAA,IAAA,QAAA,EAAK,WAAU,+DACd,cACCA,gBAAAA,EAAAA,IAAAC,GAAA,EAAU,WAAU,oBAAoB,CAAA,IAEzCD,gBAAAA,EAAA,IAACE,GAAY,EAAA,WAAU,qBAAoB,EAE7C,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QACD;AAAA,QAEAF,gBAAAA,EAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACA,WAAW,GAAGX,IAAS,UAAU,QAAQ;AAAA,YAEzC,gCAAC,MACC,EAAA,UAAAK,EAAU,IAAI,CAACS,4BACd,MACA,EAAA,UAAAL,gBAAAA,EAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACA,WAAU;AAAA,gBACV,SAAS,MAAM;AACd,kBAAAF,EAAYO,EAAS,IAAI,GACzBpB,EAAU,EAAK;AAAA,gBAChB;AAAA,gBAEA,UAAA;AAAA,kBAAAiB,gBAAAA,MAAC,UAAK,WAAU,qFACd,UAASG,EAAA,KAAK,eAChB;AAAA,kBACCA,EAAS;AAAA,gBAAA;AAAA,cAAA;AAAA,YAAA,KAXHA,EAAS,IAalB,CACA,EACF,CAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACD;AAAA,IAAA;AAAA,EACD;AAEF;"}